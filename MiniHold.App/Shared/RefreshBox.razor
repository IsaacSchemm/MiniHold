@if (Thermostat != null)
{
    <h1>
        <span class="visually-hidden">
            Current thermostat:
        </span>
        @Thermostat.ThermostatClient.Name
    </h1>

    foreach (var a in Thermostat.Information.Alerts)
    {
        <div class="alert alert-danger" role="alert">
            @a.Text (@a.DateTime)
        </div>
    }

    string cssClass = Thermostat.Information.Mode switch
    {
        "auto" => "bg-success",
        "heat" => "bg-danger",
        "auxHeatOnly" => "bg-danger",
        "cool" => "bg-primary",
        _ => "bg-secondary"
    };

    <div class="badge @cssClass">
        <span class="visually-hidden">
            Thermostat mode:
        </span>
        @Thermostat.Information.Mode
    </div>

    <div style="display: flex; flex-direction: row; justify-content: center">
        <div style="flex: 0 1 auto">
            <h5>Current</h5>
            <TemperatureDisplayBox UserInterfaceReading="@Thermostat.Information.Readings" />
            @if (Thermostat.Information != null)
            {
                <div>
                    <strong>Last updated:</strong> @Thermostat.ThermostatClient.ToThermostatTime(Thermostat.Information.Runtime.LastStatusModified).ToString("h:mm tt on MMMM d, yyyy")
                </div>
            }
        </div>
    </div>

    @*<hr />*@

    <center>
        <button class="btn btn-primary mt-2" @onclick="Thermostat.Refresh">
            Refresh
        </button>
    </center>
}

@code {
    [Parameter]
    public ThermostatObject Thermostat { get; set; }
}
